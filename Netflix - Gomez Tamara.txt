DROP SCHEMA IF EXISTS NETFLIX ;
CREATE SCHEMA IF NOT EXISTS NETFLIX ;
USE NETFLIX ;

-- Tabla Director
CREATE TABLE DIRECTOR (
    ID_DIRECTOR INT PRIMARY KEY,
    NOMBRE VARCHAR(100)
);

-- Tabla Elenco
CREATE TABLE ELENCO (
    ID_ELENCO INT PRIMARY KEY,
    NOMBRE VARCHAR(100)
);

-- Tabla País
CREATE TABLE PAIS (
    ID_PAIS INT PRIMARY KEY,
    PAIS VARCHAR(100)
);

-- Tabla Género
CREATE TABLE GENERO (
    ID_GENERO INT PRIMARY KEY,
    GENERO VARCHAR(100)
);

-- Tabla Programa
CREATE TABLE PROGRAMA (
    ID_PROGRAMA INT PRIMARY KEY,
    TIPO VARCHAR(20),
    TITULO VARCHAR(255),
    ID_DIRECTOR INT,
    ID_PAIS INT,
    FECHA_ESTRENO DATE,
    AÑO_LANZAMIENTO INT,
    DURACION FLOAT,
    ID_GENERO INT,
    RATING VARCHAR(50),
    DESCRIPCION TEXT,
    FOREIGN KEY (ID_DIRECTOR) REFERENCES DIRECTOR(ID_DIRECTOR),
    FOREIGN KEY (ID_PAIS) REFERENCES PAIS(ID_PAIS),
    FOREIGN KEY (ID_GENERO) REFERENCES GENERO(ID_GENERO)
);

-- Tabla intermedia Programa_elenco
CREATE TABLE PROGRAMA_ELENCO (
    ID_PROGRAMA INT,
    ID_ELENCO INT,
    PRIMARY KEY (ID_PROGRAMA, ID_ELENCO),
    FOREIGN KEY (ID_PROGRAMA) REFERENCES PROGRAMA(ID_PROGRAMA),
    FOREIGN KEY (ID_ELENCO) REFERENCES ELENCO(ID_ELENCO)
);